{"id":"nixos-2xg","title":"Oracle VM 루트 디스크 정리 (재부팅 필요)","description":"## 상황\n- /dev/sda2 (루트 100GB) 96% → GC 후에도 64GB/nix/store\n- 재부팅하면 openclaw 등 서비스 중단되므로 계획적으로 진행 필요\n\n## 정리 항목\n1. home-manager 세대 정리 (15~23, 9개 → 현재만 유지)\n2. 재부팅 후 /run/booted-system이 세대45 해제 → GC 재실행\n3. .direnv/ 캐시 정리 (org-mcp-server, claude-code-openai-wrapper 등)\n4. result 심볼릭링크 삭제 (repos 하위)\n5. /var/log/journal 주기적 vacuum 설정 검토\n\n## 절차\n1. docker compose down (모든 서비스)\n2. home-manager generations 정리\n3. nix-collect-garbage --delete-older-than 7d\n4. reboot\n5. sudo nix-collect-garbage --delete-older-than 7d (재부팅 후 다시)\n6. docker compose up -d (모든 서비스)\n7. df -h / 확인\n\n## 예상 효과\n- 세대45 해제 + HM 정리 → 추가 10~20GB 확보 가능","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-18T13:47:03.776567848Z","created_by":"junghan","updated_at":"2026-02-18T13:47:03.776567848Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-3rb","title":"OpenClaw Docker 배포 설정 (Oracle VM)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-17T02:17:39.007483797Z","created_by":"junghan","updated_at":"2026-02-17T02:19:06.240604388Z","closed_at":"2026-02-17T02:19:06.240575668Z","close_reason":"docker-compose, .env.example, SETUP.org 생성 및 EXTERNAL_PACKAGES.md 업데이트","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-16n","title":"한글 입력기 fcitx5 → kime 변경 검토","description":"## 배경\n- fcitx5 한글 입력 관련 이슈 2건 존재 (7l4, j0x)\n- kime: Rust 기반 경량 한글 입력기, Wayland/X11 지원, NixOS 공식 패키지\n\n## kitty + kime 호환성\n- X11: ❌ kitty는 IBus만 지원, kime는 XIM 제공 → 한글 입력 불가\n- Wayland: ✅ 정상 작동\n- ghostty: XIM 지원으로 추정 (테스트 필요)\n\n## 현재 fcitx 설정 위치\n1. modules/wm/i3.nix:12-116 (핵심 - i18n.inputMethod)\n2. users/junghan/modules/i3.nix:438-441 (시작 명령)\n3. users/junghan/home-manager.nix:176-203 (프로필)\n\n## 변경 완료 (브랜치: feature/kime-input-method)\n1. 기존 fcitx 설정 주석 처리 (삭제 X)\n2. kime 설정 추가\n3. ~/.config/kime/config.yaml 관리\n\n## 테스트 필요\n- [ ] ghostty 한글 입력 확인\n- [ ] kitty 한글 입력 확인 (예상: 실패)\n- [ ] Emacs 한글 입력 확인\n\n## 참고\n- kitty X11에서 한글: fcitx5 필요 (IBus 호환성 제공)\n- GitHub: https://github.com/Riey/kime","status":"in_progress","priority":2,"issue_type":"feature","created_at":"2026-02-03T02:39:41.944506239Z","created_by":"junghan","updated_at":"2026-02-03T02:51:45.549067072Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-19q","title":"tmux true-color 미지원: Emacs(Doom) 터미널 프레임에서 테마 색상 깨짐","description":"## 증상\n- tmux 안에서 emacsclient -nw 실행 시 파란 배경, font-lock 소실\n- ghostty 직접 실행 및 zellij에서는 정상\n- 바닐라 Emacs(-Q)는 tmux에서도 정상 (16M colors 확인)\n- Doom Emacs + modus-themes 조합에서만 발생\n\n## 원인 분석 (진행중)\n1. NixOS tmux-256color terminfo에 RGB/Tc/setrgbf/setrgbb 없음\n2. tmux terminal-features/overrides에 RGB, Tc 추가했지만 불충분\n3. COLORTERM=truecolor 설정 완료 (02-terminal.sh + tmux set-environment)\n4. 05-colors.sh의 TERM 덮어쓰기 문제 해결 완료\n5. Emacs 측 term-file-aliases(xterm-direct) 시도 → font-lock 깨짐\n6. Emacs 측 테마 reload 시도 → 로그는 뜨지만 효과 불완전\n\n## 환경\n- NixOS 25.11, tmux 3.6a\n- Emacs 29+ (Doom), modus-themes\n- ghostty (xterm-ghostty), wezterm\n- TERM=tmux-256color, COLORTERM=truecolor\n\n## 해결 방향\n- tmux 측에서 완전한 true-color 지원 (Emacs 해킹 불필요하도록)\n- 커스텀 terminfo 생성 또는 tmux 설정 심화 조사 필요\n- zellij가 정상인 이유 분석 → tmux에 동일 적용","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-06T02:57:56.066225277Z","created_by":"junghan","updated_at":"2026-02-06T05:26:13.865716500Z","closed_at":"2026-02-06T05:26:13.865695861Z","close_reason":"emacsclient wrapper e()에서 TERM=*-direct 자동 전환으로 해결 (tecosaur 방식)","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-334","title":"Claude Code 다중 세션 오케스트레이터 (i3wm + SQLite 큐)","description":"## 개요\ni3wm에서 다중 Claude Code 세션을 키바인딩으로 순환하며,\n사용자 응답 대기 중인 세션을 우선 포커스하는 시스템.\n\n## 핵심 구성요소\n\n### Phase 1: 기본 순환 (MVP)\n- scripts/claude-focus.sh: 창 타이틀 ✳ 기반 Claude Code 창 순환\n- i3.nix 키바인딩 추가 (Mod+F2 등)\n- SQLite 큐 DB (~/.claude/claude-queue.db)\n- claude-notify.sh 수정: 알림 시 window_id + 프로젝트 정보를 DB에 enqueue\n\n### Phase 2: 마이크로 로깅\n- 이벤트 테이블: notify / focus / dismiss 이벤트 기록\n- 프로젝트별 응답 대기 시간, 세션 빈도 통계\n- atuin for AI sessions 패턴\n\n### Phase 3: Emacs 통합\n- Emacs에서 SQLite DB 읽기 (sqlite-mode / emacsql)\n- org-mode 대시보드로 세션 상태 시각화\n\n## 기술 결정\n- 큐: SQLite WAL 모드 (동시성 안전, 구조화 로그 겸용)\n- 탐지: X window 타이틀 ✳ 기호\n- 역추적: PPID 체인 (hook -> claude -> bash -> terminal -> X window)\n- 의존성: sqlite3, xdotool, i3-msg\n\n## 조사 (2026-02-14)\n- 전용 도구 없음 (블루오션)\n- nq, pueue 참고했으나 SQLite 최적\n- atuin 모델이 가장 좋은 영감\n- 커밋로그=매크로, 이것=마이크로 로깅","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-14T14:12:47.375496851Z","created_by":"junghan","updated_at":"2026-02-14T14:12:47.375496851Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-1wi","title":"Upgrade NixOS to 25.11 and add development tools","description":"## Overview\nUpgrade NixOS from 25.05 to 25.11 and add essential development/collaboration tools with Oracle VM awareness.\n\n## Changes\n\n### 1. NixOS 25.11 Upgrade\n- Updated nixpkgs: nixos-25.05 → nixos-25.11\n- Updated home-manager: release-25.05 → release-25.11\n- Fixed overlay: prev.system → prev.stdenv.hostPlatform.system\n\n### 2. Breaking Changes Resolution\n**Python:**\n- jupyter_core → jupyter-core (users/junghan/modules/development/python.nix)\n\n**Input Method:**\n- fcitx5-configtool → qt6Packages.fcitx5-configtool\n  - modules/wm/i3.nix\n  - modules/specialization/gnome.nix\n\n**Fonts:**\n- noto-fonts-emoji → noto-fonts-color-emoji\n  - machines/shared.nix\n  - machines/gpu-03.nix\n\n**Git Configuration (users/junghan/modules/shell.nix):**\n- userName, userEmail → settings.user.{name,email}\n- aliases → settings.alias\n- extraConfig → settings (merged)\n- programs.git.delta → programs.delta (separated)\n- Added programs.delta.enableGitIntegration = true\n\n**GNOME (modules/specialization/gnome.nix):**\n- services.xserver.desktopManager.gnome.enable → services.desktopManager.gnome.enable\n- services.xserver.displayManager.gdm.enable → services.displayManager.gdm.enable\n\n### 3. Font Additions (machines/shared.nix)\n- noto-fonts-monochrome-emoji (preferred by user)\n- noto-fonts-emoji-blob-bin (extended Blob support)\n\n### 4. Development & Collaboration Tools (users/junghan/home-manager.nix)\n**CLI Tools (all systems):**\n- zig + zls (Zig Language Server)\n- clojure + clojure-lsp\n- mit-scheme\n- google-clasp (Google Apps Script CLI)\n\n**GUI Tools (excluded from Oracle VM via !isOracle flag):**\n- zed-editor\n- vscode\n- slack\n\n## Files Modified\n- flake.nix\n- users/junghan/modules/development/python.nix\n- users/junghan/modules/shell.nix\n- users/junghan/home-manager.nix\n- modules/wm/i3.nix\n- modules/specialization/gnome.nix\n- machines/shared.nix\n- machines/gpu-03.nix\n\n## Testing\n- Successfully built with: sudo nixos-rebuild test --flake .#laptop\n- All warnings and errors resolved\n- Oracle VM conditional logic verified","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-01T02:20:59.259489294Z","updated_at":"2025-12-01T02:21:36.498182555Z","closed_at":"2025-12-01T02:21:36.498182555Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-24n","title":"SSH/GPG 키 및 보안 설정 확인","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-24T02:19:25.532502464Z","updated_at":"2025-11-24T02:19:25.532502464Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-2xp","title":"tmux vi-copy 스타일 및 시스템 클립보드 연동 추가","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T04:40:06.847223389Z","updated_at":"2025-11-25T04:47:14.647223458Z","closed_at":"2025-11-25T04:47:14.647223458Z","source_repo":".","compaction_level":0,"original_size":0,"comments":[{"id":1,"issue_id":"nixos-config-2xp","author":"junghan","text":"Ubuntu laptop (~/.tmux.conf + tmux-base.conf) 분석 완료. NixOS shell.nix에 vi-copy 모드 추가: v=선택, C-v=사각형, y/Enter=복사+클립보드, C-a ]=붙여넣기. 패널 분할 시 현재 경로 유지, Alt+화살표 크기 조절 추가. 키바인딩 문서 작성 완료 (docs/20251125T133630--tmux-키바인딩-가이드.org)","created_at":"2025-12-17T13:38:33Z"}]}
{"id":"nixos-config-4pb","title":"Ubuntu 노트북 개발환경 조사 (ssh ul)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-24T02:19:25.465809968Z","updated_at":"2025-11-24T02:19:25.465809968Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-7je","title":"dunst Claude Code 알림+사운드 통합","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-25T01:38:49.012406583Z","updated_at":"2025-11-25T01:47:53.524499532Z","closed_at":"2025-11-25T01:47:53.524499532Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-7l4","title":"fcitx5 영문 그룹에서 Hangul 키 입력 안됨 (xkb ralt→Hangul 검토)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-24T04:44:58.988478502Z","updated_at":"2025-11-24T04:44:58.988478502Z","source_repo":".","compaction_level":0,"original_size":0,"comments":[{"id":2,"issue_id":"nixos-config-7l4","author":"junghan","text":"분석 결과 (2025-11-25): 설정 중복 발견 (system+home-manager), 문서 작성 완료 (docs/20251125T122210--fcitx5-한글-입력기-nixos-설정-가이드.org). 다음: 중복 제거 및 앱별 그룹 설정 추가","created_at":"2025-12-17T13:38:33Z"},{"id":3,"issue_id":"nixos-config-7l4","author":"junghan","text":"## 검증 방법 정리 (2025-11-25)\n\n### 핵심 문제\n- TriggerKeys에 Hangul이 있어서 fcitx5가 전역으로 가로챔\n- Emacs에서 Hangul 키를 받으려면 fcitx5 우회 필요\n\n### 검증 방법\n1. 환경변수 없이 Emacs 실행: GTK_IM_MODULE= QT_IM_MODULE= XMODIFIERS= emacs &\n2. fcitx5 비활성화 후 테스트: fcitx5-remote -c\n3. xev로 키 이벤트 확인: xev -event keyboard\n\n### 해결 방향 후보\n1. Emacs를 환경변수 없이 실행 (desktop entry 수정)\n2. fcitx.el 패키지 사용 (Emacs에서 fcitx5 연동)\n3. Default 그룹에서 TriggerKeys 동작 방식 변경 (불가능할 수 있음)\n\n### 참고\n- https://github.com/fcitx/fcitx5/discussions/1150 (미해결)\n- https://github.com/cute-jumper/fcitx.el","created_at":"2025-12-17T13:38:33Z"}]}
{"id":"nixos-config-7m9","title":"Update NixOS flake from 25.05 to 25.11","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T01:37:02.077834863Z","updated_at":"2025-12-01T01:37:19.539144877Z","closed_at":"2025-12-01T01:37:19.539144877Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-bgt","title":"현재 NixOS 환경 점검 (패키지, 서비스)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-24T02:19:25.447018593Z","updated_at":"2025-11-24T02:19:25.447018593Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-chn","title":"Nix-on-Droid 설정 통합","description":"Android에서 Nix-on-Droid를 사용한 설정 관리. flake.nix에 phone 타겟 추가하고 machines/phone.nix 생성 필요. 현재 docs/nix-on-droid-setup.md 문서 작성 완료.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-13T02:01:18.474830117Z","updated_at":"2025-12-13T02:01:27.718063174Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-eau","title":"프로젝트별 설정 이전 (repos/work)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-24T02:19:25.515023554Z","updated_at":"2025-11-24T02:19:25.515023554Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"nixos-config-eau","depends_on_id":"nixos-config-oxb","type":"blocks","created_at":"2026-02-17T02:17:08Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"nixos-config-f08","title":"autorandr hotplug 미지원 (udev rules 필요)","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-25T00:53:20.415400873Z","updated_at":"2025-11-25T00:53:20.415400873Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-g3r","title":"환경 검증 및 테스트","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-24T02:19:25.552485678Z","updated_at":"2025-11-24T02:19:25.552485678Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"nixos-config-g3r","depends_on_id":"nixos-config-24n","type":"blocks","created_at":"2026-02-17T02:17:08Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"nixos-config-g3r","depends_on_id":"nixos-config-eau","type":"blocks","created_at":"2026-02-17T02:17:08Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"nixos-config-j0x","title":"kitty 한글 입력 안됨 (libxkbcommon, IBUS 연결 실패)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-24T03:51:07.668790785Z","updated_at":"2025-11-24T03:51:07.668790785Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-jbl","title":"서스펜드 후 시스템 시간이 재개되지 않는 문제 수정","description":"증상: 금요일(11-28) 퇴근 후 서스펜드 → 월요일(11-30) 재개 시 시스템 시간이 11-28로 고정됨. i3status 바뿐만 아니라 Claude Code도 잘못된 날짜(11-28)를 읽어서 문서 생성 시 타임스탬프가 과거 날짜로 기록됨. NTP/systemd-timesyncd가 서스펜드/재개 시 제대로 동작하지 않는 것으로 추정. 해결 필요: 서스펜드 재개 후 자동 시간 동기화","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-30T03:26:43.159318113Z","updated_at":"2025-11-30T05:21:09.852072094Z","closed_at":"2025-11-30T05:21:09.852072094Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-jx6","title":"i3wm 듀얼모니터 설정 (kanshi)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-24T02:28:32.539477244Z","updated_at":"2025-11-24T02:37:35.102219254Z","closed_at":"2025-11-24T02:37:35.102219254Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-oxb","title":"누락된 패키지/설정 NixOS에 추가","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-24T02:19:25.498675909Z","updated_at":"2025-11-24T02:19:25.498675909Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"nixos-config-oxb","depends_on_id":"nixos-config-qmk","type":"blocks","created_at":"2026-02-17T02:17:08Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"nixos-config-qmk","title":"개발 도구/패키지 목록 비교 및 gap 분석","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-24T02:19:25.481715489Z","updated_at":"2025-11-24T02:19:25.481715489Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"nixos-config-qmk","depends_on_id":"nixos-config-4pb","type":"blocks","created_at":"2026-02-17T02:17:08Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"nixos-config-qmk","depends_on_id":"nixos-config-bgt","type":"blocks","created_at":"2026-02-17T02:17:08Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"nixos-config-s6k","title":"개발환경 이전: Ubuntu → NixOS 노트북","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-24T02:18:55.279523822Z","updated_at":"2025-11-24T02:18:55.279523822Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"nixos-config-y0a","title":"ghostty i3 border 강제 적용","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-24T03:20:53.085326927Z","updated_at":"2025-11-24T03:21:08.529082669Z","closed_at":"2025-11-24T03:21:08.529082669Z","source_repo":".","compaction_level":0,"original_size":0}
